<!DOCTYPE html>
<html>
<head>
    <title>Network Architecture for Multi-Branch Banking System</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.5; }
        h1 { color: #2c3e50; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        h2 { color: #3498db; margin-top: 30px; }
        h3 { color: #2980b9; }
        pre { background-color: #f8f8f8; border: 1px solid #ddd; padding: 10px; border-radius: 5px; overflow-x: auto; }
        table { border-collapse: collapse; width: 100%; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h1>Network Architecture for Multi-Branch Banking System</h1><h1>Network Architecture Diagram</h1>
<p></p>
<h2>Overall Network Topology</h2>
<p></p>
<pre>
                                                  INTERNET
                                                      │
                                                      │
                                                      ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                  HEADQUARTERS                                    │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐   │
│  │ Firewall &  │     │   Load      │     │  VPN        │     │ Intrusion   │   │
│  │ NAT Gateway │◄───▶│  Balancer   │◄───▶│  Server     │◄───▶│ Detection   │   │
│  └─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘   │
│         ▲                   ▲                   ▲                   ▲           │
│         │                   │                   │                   │           │
│         ▼                   ▼                   ▼                   ▼           │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                         INTERNAL NETWORK BACKBONE                        │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│         ▲                   ▲                   ▲                   ▲           │
│         │                   │                   │                   │           │
│         ▼                   ▼                   ▼                   ▼           │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐   │
│  │ Application │     │  Database   │     │ Monitoring  │     │    Kafka    │   │
│  │   Servers   │     │   Servers   │     │   Servers   │     │   Cluster   │   │
│  └─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘   │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
                 ▲                   ▲                   ▲
                 │                   │                   │
                 │                   │                   │
                 │                   │                   │
                 ▼                   ▼                   ▼
┌───────────────────────┐   ┌───────────────────────┐   ┌───────────────────────┐
│    SECURE WIREGUARD   │   │    SECURE WIREGUARD   │   │    SECURE WIREGUARD   │
│    VPN CONNECTIONS    │   │    VPN CONNECTIONS    │   │    VPN CONNECTIONS    │
└───────────────────────┘   └───────────────────────┘   └───────────────────────┘
                 ▲                   ▲                   ▲
                 │                   │                   │
                 │                   │                   │
                 │                   │                   │
                 ▼                   ▼                   ▼
┌───────────────────────┐   ┌───────────────────────┐   ┌───────────────────────┐
│      BRANCH 001       │   │      BRANCH 002       │   │      BRANCH 089       │
└───────────────────────┘   └───────────────────────┘   └───────────────────────┘
</pre>
<p></p>
<h2>Branch Network Architecture</h2>
<p></p>
<pre>
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                  BRANCH OFFICE                                   │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐   │
│  │ Firewall &  │     │  WireGuard  │     │ Redundant   │     │ Local DNS   │   │
│  │ Router      │◄───▶│  VPN Client │◄───▶│ Connection  │◄───▶│ Server      │   │
│  └─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘   │
│         ▲                   ▲                                       ▲           │
│         │                   │                                       │           │
│         ▼                   ▼                                       ▼           │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                         BRANCH NETWORK SWITCH                            │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│         ▲                   ▲                   ▲                   ▲           │
│         │                   │                   │                   │           │
│         ▼                   ▼                   ▼                   ▼           │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐   │
│  │ Application │     │  Database   │     │ Monitoring  │     │ Teller      │   │
│  │   Server    │     │   Server    │     │   Agent     │     │ Workstations│   │
│  └─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘   │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
</pre>
<p></p>
<h2>Detailed HQ Server Architecture</h2>
<p></p>
<pre>
┌─────────────────────────────────────────────────────────────────────────────────┐
│                             HQ SERVER ARCHITECTURE                               │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                         DMZ NETWORK SEGMENT                              │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│         ▲                   ▲                   ▲                   ▲           │
│         │                   │                   │                   │           │
│         ▼                   ▼                   ▼                   ▼           │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐   │
│  │ VPN         │     │ API         │     │ Reverse     │     │ Web         │   │
│  │ Servers     │     │ Gateways    │     │ Proxies     │     │ Servers     │   │
│  └─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘   │
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                      INTERNAL NETWORK SEGMENT                            │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│         ▲                   ▲                   ▲                   ▲           │
│         │                   │                   │                   │           │
│         ▼                   ▼                   ▼                   ▼           │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐   │
│  │ ERPNext     │     │ Kafka       │     │ Sync        │     │ Monitoring  │   │
│  │ Application │     │ Cluster     │     │ Services    │     │ Stack       │   │
│  └─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘   │
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                      DATABASE NETWORK SEGMENT                            │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│         ▲                   ▲                   ▲                   ▲           │
│         │                   │                   │                   │           │
│         ▼                   ▼                   ▼                   ▼           │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐   │
│  │ PostgreSQL  │     │ Redis       │     │ Backup      │     │ Vault       │   │
│  │ Cluster     │     │ Cluster     │     │ Storage     │     │ Secrets     │   │
│  └─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘   │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
</pre>
<p></p>
<h2>Detailed Branch Server Architecture</h2>
<p></p>
<pre>
┌─────────────────────────────────────────────────────────────────────────────────┐
│                           BRANCH SERVER ARCHITECTURE                             │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                         EDGE NETWORK SEGMENT                             │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│         ▲                   ▲                   ▲                               │
│         │                   │                   │                               │
│         ▼                   ▼                   ▼                               │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐                       │
│  │ VPN         │     │ Reverse     │     │ Local       │                       │
│  │ Client      │     │ Proxy       │     │ Firewall    │                       │
│  └─────────────┘     └─────────────┘     └─────────────┘                       │
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                      APPLICATION NETWORK SEGMENT                         │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│         ▲                   ▲                   ▲                   ▲           │
│         │                   │                   │                   │           │
│         ▼                   ▼                   ▼                   ▼           │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐   │
│  │ ERPNext     │     │ Sync        │     │ Kafka       │     │ Monitoring  │   │
│  │ Application │     │ Service     │     │ Broker      │     │ Agent       │   │
│  └─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘   │
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                      DATABASE NETWORK SEGMENT                            │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│         ▲                   ▲                   ▲                               │
│         │                   │                   │                               │
│         ▼                   ▼                   ▼                               │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐                       │
│  │ PostgreSQL  │     │ Redis       │     │ Local       │                       │
│  │ Database    │     │ Cache       │     │ Backup      │                       │
│  └─────────────┘     └─────────────┘     └─────────────┘                       │
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                      CLIENT NETWORK SEGMENT                              │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│         ▲                   ▲                   ▲                               │
│         │                   │                   │                               │
│         ▼                   ▼                   ▼                               │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐                       │
│  │ Teller      │     │ Admin       │     │ Branch      │                       │
│  │ Workstations│     │ Workstations│     │ Printers    │                       │
│  └─────────────┘     └─────────────┘     └─────────────┘                       │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
</pre>
<p></p>
<h2>Monitoring Architecture</h2>
<p></p>
<pre>
┌─────────────────────────────────────────────────────────────────────────────────┐
│                           MONITORING ARCHITECTURE                                │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│                              HEADQUARTERS                                        │
│                                                                                 │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐     ┌─────────────┐   │
│  │ Prometheus  │     │ Grafana     │     │ Alert       │     │ ELK         │   │
│  │ Federation  │     │ Dashboards  │     │ Manager     │     │ Stack       │   │
│  └─────────────┘     └─────────────┘     └─────────────┘     └─────────────┘   │
│         ▲                   ▲                   ▲                   ▲           │
│         │                   │                   │                   │           │
│         │                   │                   │                   │           │
│         │                   │                   │                   │           │
│         │                   │                   │                   │           │
│         │                   │                   │                   │           │
│         ▼                   ▼                   ▼                   ▼           │
│  ┌─────────────────────────────────────────────────────────────────────────┐   │
│  │                         SECURE VPN TUNNEL                                │   │
│  └─────────────────────────────────────────────────────────────────────────┘   │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
                 ▲                   ▲                   ▲
                 │                   │                   │
                 │                   │                   │
                 │                   │                   │
                 ▼                   ▼                   ▼
┌───────────────────────┐   ┌───────────────────────┐   ┌───────────────────────┐
│      BRANCH 001       │   │      BRANCH 002       │   │      BRANCH 089       │
│                       │   │                       │   │                       │
│  ┌─────────────┐      │   │  ┌─────────────┐      │   │  ┌─────────────┐      │
│  │ Prometheus  │      │   │  │ Prometheus  │      │   │  │ Prometheus  │      │
│  │ Local       │      │   │  │ Local       │      │   │  │ Local       │      │
│  └─────────────┘      │   │  └─────────────┘      │   │  └─────────────┘      │
│         ▲             │   │         ▲             │   │         ▲             │
│         │             │   │         │             │   │         │             │
│         ▼             │   │         ▼             │   │         ▼             │
│  ┌─────────────┐      │   │  ┌─────────────┐      │   │  ┌─────────────┐      │
│  │ Node        │      │   │  │ Node        │      │   │  │ Node        │      │
│  │ Exporters   │      │   │  │ Exporters   │      │   │  │ Exporters   │      │
│  └─────────────┘      │   │  └─────────────┘      │   │  └─────────────┘      │
│                       │   │                       │   │                       │
└───────────────────────┘   └───────────────────────┘   └───────────────────────┘
</pre>
</body>
</html>
